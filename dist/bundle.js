(()=>{var e={117:e=>{"use strict";e.exports=require("@discordjs/voice")},349:e=>{"use strict";e.exports=require("discord.js")},142:e=>{"use strict";e.exports=require("dotenv")},920:e=>{"use strict";e.exports=require("ytdl-core")}},r={};function i(o){var s=r[o];if(void 0!==s)return s.exports;var t=r[o]={exports:{}};return e[o](t,t.exports,i),t.exports}(()=>{const{Client:e,GatewayIntentBits:r}=i(349),o=new e({intents:[r.Guilds,r.GuildMessages,r.GuildVoiceStates,r.GuildMessageReactions,r.GuildMessageTyping,r.GuildPresences,r.GuildMembers]}),{joinVoiceChannel:s,createAudioPlayer:t,createAudioResource:n}=i(117);i(142).config();const a=process.env.TOKEN,d=i(920);o.on("ready",(()=>{console.log("Bot is ready!")})),o.on("interactionCreate",(async e=>{if(e.isCommand()&&"play"===e.commandName){const r=e.options.get("song").value;e.reply(`Playing ${r}`);const i=e.member.voice.channel;if(!i)return e.reply("You need to be in a voice channel!");const o=t(),a=d(r,{filter:"audioonly"}),c=n(a,{inputType:a.format}),l=s({channelId:i.id,guildId:i.guild.id,adapterCreator:i.guild.voiceAdapterCreator});o.play(c),l.subscribe(o),o.on("idle",(()=>{e.channel.send("Song has ended"),l.destroy()}))}})),o.login(a)})()})();